!function(e,t){"object"==typeof module&&module.exports?module.exports=function(e){return e.contextMenu=t(e),e.contextMenu}:e.d3.contextMenu=t(e.d3)}(this,function(e){return function(t,n){return e.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),e.select("body").on("click.d3-context-menu",function(){e.select(".d3-context-menu").style("display","none")}),function(l,o){var c=this;e.selectAll(".d3-context-menu").html("");var u=e.selectAll(".d3-context-menu").append("ul");if(u.selectAll("li").data("function"==typeof t?t(l):t).enter().append("li").html(function(e){return"string"==typeof e.title?e.title:e.title(l)}).on("click",function(t,n){t.action(c,l,o),e.select(".d3-context-menu").style("display","none")}),!n||n(l,o)!==!1){var i=[0,0];i=e.mouse(this);i[0],i[1];e.select(".d3-context-menu").style("left",e.event.pageX-2+"px").style("top",e.event.pageY-2+"px").style("display","block"),e.event.preventDefault(),e.event.stopPropagation()}}}});